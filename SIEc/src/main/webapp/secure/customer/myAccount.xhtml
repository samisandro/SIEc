<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="/templates/principal.xhtml">
        <ui:define name="metadata">
            <f:metadata>                                    
                <f:event type="preRenderView" listener="#{clienteController.prepareForUpdate()}"/>
            </f:metadata> 
        </ui:define>

        <ui:define name="content">

            <div class="wrapper">

                <div class="border"></div>

                <article>
                    <h3>#{bundle.label_myaccount}</h3>                         

                    <h:form>

                        <p:panel id="panelCustomer" header="#{bundle.label_system_main}" >

                            <h:outputLabel for="nomeCliente" 
                                           value="#{bundle.label_form_name}"
                                           rendered="#{clienteController.typeCustomerPf}"/>
                            <h:outputText id="nomeCliente"
                                          rendered="#{clienteController.typeCustomerPf}" 
                                          value="#{clienteController.cliente.usuario.pessoa.nome}" />

                            <h:outputLabel for="razaoSocial" 
                                           value="#{bundle.label_form_company_name}"                                           
                                           rendered="#{!clienteController.typeCustomerPf}"/>
                            <h:outputText id="razaoSocial"
                                          value="#{clienteController.pj.razaoSocial}"                                          
                                          rendered="#{!clienteController.typeCustomerPf}"/>

                            <h:outputLabel for="emailCliente" value="#{bundle.label_form_email}" />
                            <h:outputText id="emailCliente"
                                          value="#{clienteController.cliente.usuario.pessoa.email}"/>
                            <br />
                            <br />

                            <h:outputLabel for="cpf" 
                                           value="#{bundle.label_form_cpf}"
                                           rendered="#{clienteController.typeCustomerPf}"/>
                            <h:outputText id="cpf"
                                          value="#{clienteController.pf.cpf}"
                                          rendered="#{clienteController.typeCustomerPf}" />

                            <h:outputLabel for="cnpj" 
                                           value="#{bundle.label_form_cnpj}"
                                           rendered="#{!clienteController.typeCustomerPf}"/>
                            <h:outputText id="cnpj"
                                          value="#{clienteController.pj.cnpj}"
                                          rendered="#{!clienteController.typeCustomerPf}"/>

                            <h:outputLabel for="inscricaoEstadual" 
                                           value="#{bundle.label_form_ie}"
                                           rendered="#{!clienteController.typeCustomerPf}"/>
                            <h:outputText id="inscricaoEstadual"
                                          value="#{clienteController.pj.inscricaoEstadual}"
                                          rendered="#{!clienteController.typeCustomerPf}"/>

                            <h:outputText rendered="#{clienteController.typeCustomerPf}">
                                <br />
                                <br />
                            </h:outputText>
                            <h:outputLabel for="dataNascimento"
                                           value="#{bundle.label_form_birthday}"
                                           rendered="#{clienteController.typeCustomerPf}" />
                            <h:outputText id="dataNascimento"
                                          value="#{clienteController.pf.dataNascimento}"
                                          rendered="#{clienteController.typeCustomerPf}">
                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                            </h:outputText>

                            <h:outputLabel for="sexo" 
                                           value="#{bundle.label_form_sexo}"
                                           rendered="#{clienteController.typeCustomerPf}"/>
                            <h:outputText id="sexo"
                                          value="#{clienteController.pf.sexo.descricao}"
                                          rendered="#{clienteController.typeCustomerPf}"/>
                            <br />
                            <br />
                            <h:outputLabel for="loginCliente" value="#{bundle.label_form_login}" />
                            <h:outputText id="loginCliente" 
                                          value="#{clienteController.cliente.usuario.login}"/>
                            <br />
                            <br />                            
                        </p:panel>

                        <p:panel id="panelPhones" header="#{bundle.label_form_phones}" >

                            <h:outputLabel for="principal" value="#{bundle.label_form_phone_main}" />
                            <h:outputText id="principal"
                                          value="#{clienteController.phonePrincipal}"/>
                            <br />
                            <br />                            
                            <h:outputLabel for="comercial" value="#{bundle.label_form_phone_commercial}" />
                            <h:outputText id="comercial"
                                          value="#{clienteController.phoneComercial}"/>
                            <br />
                            <br />                            
                            <h:outputLabel for="residencial" value="#{bundle.label_form_phone_residential}" />
                            <h:outputText id="residencial"
                                          value="#{clienteController.phoneResidencial}"/>
                            <br />
                            <br />                            
                        </p:panel>

                        <p:panel id="panelEndereco" header="#{bundle.label_form_address}" >

                            <h:outputLabel for="cep" value="#{bundle.label_form_cep}" />
                            <h:outputText id="cep"                                         
                                          value="#{clienteController.endereco.cep}" />
                            <br />
                            <br />
                            <h:outputLabel for="logradouro" value="#{bundle.label_form_logradouro}" />
                            <h:outputText id="logradouro" 
                                          value="#{clienteController.endereco.logradouro}" />

                            <h:outputLabel for="numero" value="#{bundle.label_form_number}" />
                            <h:outputText id="numero" 
                                          value="#{clienteController.endereco.numero}" />
                            <br />
                            <br /> 
                            <h:outputLabel for="bairro" value="#{bundle.label_form_neighborhood}" />
                            <h:outputText id="bairro" 
                                          value="#{clienteController.endereco.bairro}"/>

                            <h:outputLabel for="complemento" value="#{bundle.label_form_complement}" />
                            <h:outputText id="complemento" 
                                          value="#{clienteController.endereco.complemento}"/>
                            <br />
                            <br />                           

                            <h:outputLabel for="cidade" value="#{bundle.label_form_city}" />
                            <h:outputText id="cidade" 
                                          value="#{clienteController.endereco.cidade}"/>

                            <h:outputLabel for="estado" value="#{bundle.label_form_state}" />
                            <h:outputText id="estado" 
                                          value="#{clienteController.endereco.estado}"/>
                            <br />
                            <br />                            
                        </p:panel>

                        <h:commandLink styleClass="button" action="#{clienteController.goUpdateAccount()}" value="Atualizar Minha Conta">
                            <f:setPropertyActionListener value="#{usuarioSupport.user}" target="#{clienteController.cliente.usuario}"/>
                        </h:commandLink>

                    </h:form>
                    <br />
                    <br />
                    <br />
                </article> 

            </div>

        </ui:define>

    </ui:composition>

</html>

